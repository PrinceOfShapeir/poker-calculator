(this["webpackJsonppoker-calculator"]=this["webpackJsonppoker-calculator"]||[]).push([[0],{130:function(t,e,a){},131:function(t,e,a){},432:function(t,e,a){"use strict";a.r(e);var s=a(6),n=a.n(s),r=a(120),i=a.n(r),c=(a(130),a.p,a(131),a(50)),l=a(76),h=a(121),o=a(122),u=a(125),d=a(124),b=a(3),f=(a(132),a(434)),g=a(435),p=a(436),j=a(439),v=a(437),O=a(438);function x(t){var e=Object(b.a)(t).map((function(t){return S(t)})).sort((function(t,e){return t-e})),a=!1;for(var s in e)if(13===e[s]){a=!0;break}a&&e.unshift(0),console.log(e);var n=[e[0]];for(var r in e)if(e[r]!==n[n.length-1])if(e[r]===n[n.length-1]+1)n[n.length]=e[r];else{if(e.length-r+1<5)break;n.length<5&&(n=[e[r]])}return console.log(n),n.length>=5&&3500+M(n)}function m(t){for(var e=t.map((function(t){return S(t)})).sort().reverse(),a=0,s=0,n=0;n<e.length;n++)n<e.length&&(e[n]===e[n+1]?(a++,s=e[n]):a>0&&(n=e.length));switch(console.log(a),a){case 1:return s+2e3;case 2:return s+3e3;case 3:return s+6e3;default:return!1}return console.log(e+"is false??"),!1}function k(t){var e=[],a=Object(b.a)(t);if(e[0]=m(a)||0,!(e[0]>0))return!1;a=a.filter((function(t){return S(t)!=e[0]%1e3})),e[1]=m(a)||0,e[1]>0&&(a=a.filter((function(t){return S(t)!=e[1]%1e3})),e[2]=m(a)||0);var s=Math.max.apply(Math,Object(b.a)(e));if(s>6e3)return console.log("over 6k"),s-s%1e3+C(s%1e3+13)+C(Math.max.apply(Math,Object(b.a)(t.filter((function(t){return S(t!=S(s%1e3))})).map((function(t){return S(t)})))));if(s>3e3)return console.log(e),e=e.filter((function(t){return t!=s})),Math.max.apply(Math,Object(b.a)(e))>0?s-s%1e3+3*C(s%1e3+13)+Math.max.apply(Math,Object(b.a)(e))-Math.max.apply(Math,Object(b.a)(e))%1e3+2*C(Math.max.apply(Math,Object(b.a)(e))%1e3+13)+(Math.max.apply(Math,Object(b.a)(e))>=3e3?-1e3:0):s-s%1e3+C(s%1e3+13)+function(){a=Object(b.a)(t).filter((function(t){return S(t)!=s%1e3})).map((function(t){return S(t)}));for(var e=0,n=0;n<2;n++)e+=C(Math.max.apply(Math,Object(b.a)(a))),a=a.filter((function(t){return t!=Math.max.apply(Math,Object(b.a)(a))}));return e}();if(s>2e3){e=e.filter((function(t){return t!=s}));var n=0|Math.max.apply(Math,Object(b.a)(e));return n>0?s-s%1e3+n-n%1e3-1500+49*C(s%1e3)*28+49*C(n%1e3)*21+C(Math.max.apply(Math,Object(b.a)(Object(b.a)(t).map((function(t){return S(t)})).filter((function(t){return t!=s%1e3&&t!=n%1e3}))))):s-s%1e3+s%1e3*7+M([s%1e3,s%1e3].concat(Object(b.a)(function(t,e){var a=Object(b.a)(t).sort((function(t,e){return t-e}));for(;a.length>e;)a.shift();return a}(Object(b.a)(t).map((function(t){return S(t)})).filter((function(t){return t!=s%1e3})),3))))}return console.log("error no pair but still got here"),!1}function C(t){return S(t)*Math.pow(7,S(t)/3)/3e6}function S(t){return 0==t?0:t%13==0?13:t%13}function M(t){for(var e=Object(b.a)(t).map((function(t){return S(t)})).sort((function(t,e){return t-e}));e.length>5;)e.shift();return e.reduce((function(t,e){return t+C(e)}))}function B(t){var e=[];return e[e.length]=function(t){var e=t.slice();console.log(e);for(var a=[[],[],[],[]],s=[0,0,0,0],n=0;n<e.length;n++)e[n]<=13?(a[0].push(e[n]),s[0]++):e[n]>13&&e[n]<=26?(a[1].push(e[n]),s[1]++):e[n]>26&&e[n]<=39?(a[2].push(e[n]),s[2]++):e[n]>39&&e[n]<=52?(a[3].push(e[n]),s[3]++):console.log("couldn't catch  "+e[n]);var r=s.indexOf(Math.max.apply(Math,s));if(s[r]>=5){var i=x(a[r]);if(i)return 2*i;for(;a[r].length>5;)a[r].splice(a[r].indexOf(Math.min(a[r])),1);return 4e3+function(){var t=0;for(var e in a[r])t+=C(a[r][e]);return t}()}return!1}(t)||0,e[e.length]=x(t)||0,e[e.length]=k(t)||0,e[e.length]=M(t)||0,Math.max.apply(Math,e)}var W=[17,22,43,35,23,30,34];console.log("handevaluator: "+B(W)),console.log("handevaluator: "+B([1,24,43,35,23,30,34])),console.log("pairevaluator: "+k(W)),console.log("winner is "+(B(W)>B([1,24,43,35,23,30,34])));var A=a(1);function w(t,e){return t===e?"Tied":t>e?"Wins":"Loses"}function y(t,e){switch(Math.max.apply(Math,Object(b.a)(t.concat(e).map((function(t){return S(t)}))))){case 13:return"an Ace ";case 12:return"a King ";case 11:return"a Queen ";case 10:return"a Jack ";case 9:return"a Ten ";case 8:return"a Nine ";case 7:return"an Eight ";case 6:return"a Seven ";case 5:return"a Six ";case 4:return"a Five ";case 3:return"a Four ";case 2:return"a Three ";case 1:return"a Two ";default:return"nothing "}}function F(t,e,a){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=function(){return s?"a ":""};return t>=7e3?n()+"Straight Flush":t>=6e3?"Four of a Kind":t>=5e3?n()+"Full House":t>=4e3?n()+"Flush":t>=3500?n()+"Straight":t>=3e3?"Three of a Kind":t>=2500?"Two Pair":t>=2e3?n()+"Pair":y(e,a)+"High Card"}var R=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var s;return Object(h.a)(this,a),(s=e.call(this,t)).table=function(){var t=[];for(var e in s.state.tableCards)t.push(Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(f.a,{children:[Object(A.jsx)(g.a,{onClick:e<=2?s.flopCards:e<=3?s.turnCards:s.riverCards,className:s.state.flop&&e<=2||s.state.turn&&e<=3||s.state.river&&e<=4?"flipCard":"",children:Object(A.jsx)(p.a,{src:e<=2&&s.state.flop||e<=3&&s.state.turn||e<=4&&s.state.river?"./images/".concat(s.state.tableCards[e],".svg"):"./images/53.svg"})}),Object(A.jsx)("p",{children:s.state.debug?s.state.tableCards[e]+" ("+(S(s.state.tableCards[e])+1)+")":""})]})}));return Object(A.jsx)(A.Fragment,{children:t})},s.leftHand=function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(g.a,{onClick:s.revealLeft,className:s.state.revealLeft?"flipCard":"",children:Object(A.jsx)(p.a,{src:s.state.revealLeft?"./images/".concat(s.state.handA[0],".svg"):"./images/53.svg"})}),Object(A.jsx)(g.a,{onClick:s.revealLeft,className:s.state.revealLeft?"flipCard":"",children:Object(A.jsx)(p.a,{src:s.state.revealLeft?"./images/".concat(s.state.handA[1],".svg"):"./images/53.svg"})})]})},s.rightHand=function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(g.a,{onClick:s.revealRight,className:s.state.revealRight?"flipCard":"",children:Object(A.jsx)(p.a,{src:s.state.revealRight?"./images/".concat(s.state.handB[0],".svg"):"./images/53.svg"})}),Object(A.jsx)(g.a,{onClick:s.revealRight,className:s.state.revealRight?"flipCard":"",children:Object(A.jsx)(p.a,{src:s.state.revealRight?"./images/".concat(s.state.handB[1],".svg"):"./images/53.svg"})})]})},s.state={tableCards:[53,53,53,53,53],handA:[53,53],handB:[53,53],handsPlayed:0,leftWins:localStorage.getItem("leftWins")?parseInt(localStorage.getItem("leftWins")):0,rightWins:localStorage.getItem("rightWins")?parseInt(localStorage.getItem("rightWins")):0,ties:localStorage.getItem("ties")?parseInt(localStorage.getItem("ties")):0,deck:new Array(52).fill(0).map((function(t,e){return e+1})),debug:!1,handAValue:0,handBValue:0,flop:!1,turn:!1,river:!1,displayCards:!1,dealt:!1,revealRight:!1,revealLeft:!1,orientationLocked:!1,revealWinner:!1,winCounted:!1,chips:[500,500],bets:[0,0],pot:0,betMessage:null,checked:{left:!1,right:!1},oldBets:[0,0],betting:!1},s.enableBetting=function(){s.setState({betting:!s.state.betting})},s.betHands=function(t,e){if(s.state.checked.right&&s.state.checked.left&&s.setState({checked:{right:!1,left:!1}}),0===t){if(s.state.chips[t]>=e)return s.setState({chips:[s.state.chips[t]-e,s.state.chips[1]],bets:[s.state.bets[t]+e,s.state.bets[1]]})}else if(s.state.chips[t]>=e)return s.setState({chips:[s.state.chips[0],s.state.chips[t]-e],bets:[s.state.bets[0],s.state.bets[t]+e]})},s.check=function(t){s.setState({checked:Object(l.a)(Object(l.a)({},s.state.checked),{},Object(c.a)({},t,!s.state.checked[t]))})},s.checkBets=function(){return s.state.bets[0]!==s.state.bets[1]?s.state.bets[0]>s.state.bets[1]?0===s.state.chips[1]?(s.state.betMessage&&s.setState({betMessage:null}),!0):(s.setState({betMessage:"Right needs to bet ".concat(s.state.bets[0]-s.state.bets[1]," more.")}),!1):!(s.state.bets[1]>s.state.bets[0])||(0===s.state.chips[0]?(s.state.betMessage&&s.setState({betMessage:null}),!0):(s.setState({betMessage:"Left needs to bet ".concat(s.state.bets[1]-s.state.bets[0]," more.")}),!1)):(s.state.betMessage&&s.setState({betMessage:null}),s.state.bets[0]+s.state.bets[1]!==0||(!!(s.state.checked.right&&s.state.checked.left||!s.state.betting||s.state.chips[0]<1||s.state.chips[1]<1)||(s.setState({betMessage:"All players need to check to continue."}),!1)))},s.doubleOrNothing=function(t){var e=t?0:1,a=s.state.bets;return a[e]>a[t]?2*(a[e]-a[t]):0},s.countWins=function(){if(s.state.dealt&&s.state.river&&!s.state.winCounted)if(isNaN(s.state.handAValue)||isNaN(s.state.handBValue))console.log("Error, non numeric hand value");else{var t=s.state.handAValue>=s.state.handBValue?s.state.handAValue>s.state.handBValue?1:0:-1,e=s.state.handBValue>=s.state.handAValue?s.state.handBValue>s.state.handAValue?1:0:-1;if(s.setState({winCounted:!0}),t>0)return localStorage.setItem("leftWins",s.state.leftWins+t),s.setState({leftWins:s.state.leftWins+t}),s.divideChips(0);if(e>0)return localStorage.setItem("rightWins",s.state.rightWins+e),s.setState({rightWins:s.state.rightWins+e}),s.divideChips(1);if(t===e===0)return localStorage.setItem("ties",s.state.ties+1),s.setState({ties:s.state.ties+1}),s.divideChips(-1)}},s.divideChips=function(t){return t>=1?s.setState({chips:[s.state.chips[0],s.state.chips[1]+s.state.bets.reduce((function(t,e){return t+e}))+s.state.pot],bets:[0,0],oldBets:[0,0],pot:0}):0===t?s.setState({chips:[s.state.chips[0]+s.state.bets.reduce((function(t,e){return t+e}))+s.state.pot,s.state.chips[1]],bets:[0,0],oldBets:[0,0],pot:0}):s.setState({chips:[s.state.chips[0]+s.state.bets[0]+s.state.oldBets[0],s.state.chips[1]+s.state.bets[1]+s.state.oldBets[1]],bets:[0,0],oldBets:[0,0],pot:0})},s.fold=function(t){return s.divideChips(t?0:1)},s.lockOrientation=function(){s.setState({orientationLocked:!0})},s.showDebug=function(){s.setState({debug:!s.state.debug})},s.revealAll=function(){s.setState({revealLeft:!0,revealRight:!0,flop:!0,turn:!0,river:!0})},s.revealLeft=function(){s.setState({revealLeft:!s.state.revealLeft})},s.revealRight=function(){s.setState({revealRight:!s.state.revealRight})},s.flopCards=function(){s.checkBets()&&s.setState({flop:!s.state.flop,checked:{left:!1,right:!1},pot:s.state.bets.reduce((function(t,e){return t+e}))+s.state.pot,bets:[0,0],oldBets:s.state.oldBets.map((function(t,e){s.state.bets[e]}))})},s.turnCards=function(){s.checkBets()&&s.setState({turn:!s.state.turn,checked:{left:!1,right:!1},pot:s.state.bets.reduce((function(t,e){return t+e}))+s.state.pot,bets:[0,0],oldBets:s.state.oldBets.map((function(t,e){s.state.bets[e]}))})},s.riverCards=function(){s.checkBets()&&s.setState({river:!s.state.river,checked:{left:!1,right:!1},pot:s.state.bets.reduce((function(t,e){return t+e}))+s.state.pot,bets:[0,0],oldBets:s.state.oldBets.map((function(t,e){s.state.bets[e]}))})},s.revealWinners=function(){if(s.checkBets())return s.countWins(),s.setState({revealWinner:!s.state.revealWinner})},s.dealHand=function(){if(!s.checkBets()&&s.state.dealt)return null;s.countWins();var t=[[],[],[],s.state.deck],e=t[0],a=t[1],n=t[2],r=t[3];r=function(t,e){for(var a=Object(b.a)(e),s=0;s<t;s++)for(var n in a){var r=Math.floor(Math.random()*Math.floor(52)),i=[a[r],a[n]];a[n]=i[0],a[r]=i[1]}return a}(5,r),e.push(r.pop()),a.push(r.pop()),e.push(r.pop()),a.push(r.pop()),r.pop(),n.push(r.pop()),n.push(r.pop()),n.push(r.pop()),r.pop(),n.push(r.pop()),r.pop(),n.push(r.pop()),console.log([].concat(Object(b.a)(e),Object(b.a)(n))),s.setState({handA:Object(b.a)(e),handB:Object(b.a)(a),tableCards:Object(b.a)(n),handAValue:B([].concat(Object(b.a)(e),Object(b.a)(n))),handBValue:B([].concat(Object(b.a)(a),Object(b.a)(n))),dealt:!0,flop:!1,river:!1,turn:!1,revealRight:!1,revealLeft:!1,revealWinner:!1,winCounted:!1,checked:{left:!1,right:!1},betMessage:null})},s}return Object(o.a)(a,[{key:"render",value:function(){var t=this;return Object(A.jsxs)("div",{className:"text-center",style:{backgroundColor:"#4caf50",border:"thick solid #A0522D",minHeight:"100vh",height:"100%",fontFamily:"Jazz LET"},children:[function(){t.state.orientationLocked||(screen.lockOrientation("landscape"),t.lockOrientation())},Object(A.jsx)("h1",{children:"Compare Two Poker Hands"}),Object(A.jsx)("h4",{children:(this.state.checked.right&&this.state.checked.left&&this.state.bets[0]===this.state.bets[1]||this.state.bets[0]===this.state.bets[1]&&this.state.bets[0]+this.state.bets[1]>0)&&this.state.dealt?"Pot is good":this.state.betMessage?this.state.betMessage:"Deal two poker hands and then guess which one is the winner."}),Object(A.jsx)(j.a,{onClick:this.dealHand,children:"Shuffle and Deal."}),Object(A.jsx)(A.Fragment,{children:this.state.dealt&&!this.state.flop?Object(A.jsx)(j.a,{onClick:this.flopCards,children:"Reveal Flop"}):""}),Object(A.jsx)(A.Fragment,{children:this.state.dealt&&this.state.flop&&!this.state.turn?Object(A.jsx)(j.a,{onClick:this.turnCards,children:"Reveal Turn"}):""}),Object(A.jsx)(A.Fragment,{children:this.state.dealt&&this.state.turn&&!this.state.river?Object(A.jsx)(j.a,{onClick:this.riverCards,children:"Reveal River"}):""}),Object(A.jsx)(v.a,{fluid:!0,children:Object(A.jsxs)(O.a,{children:[Object(A.jsxs)(f.a,{xs:"2",children:[Object(A.jsx)(this.leftHand,{}),Object(A.jsx)(j.a,{onClick:this.revealLeft,children:"Reveal Hand"}),Object(A.jsx)("p",{children:this.state.betting&&this.state.chips[0]}),!this.state.revealWinner&&this.state.betting&&Object(A.jsxs)(A.Fragment,{children:[" ",Object(A.jsx)(j.a,{onClick:function(){return t.fold(0)},children:"Fold"}),Object(A.jsx)(j.a,{onClick:function(){t.state.bets[1]>t.state.bets[0]?t.betHands(0,t.state.bets[1]-t.state.bets[0]):t.check("left")},children:this.state.bets[1]>this.state.bets[0]?"Call ".concat(this.state.bets[1]-this.state.bets[0]):"Check"}),Object(A.jsxs)(j.a,{onClick:function(){return t.betHands(0,t.doubleOrNothing(0)||5)},children:["Bet ",this.doubleOrNothing(0)||5," Chips"]})]})]}),Object(A.jsxs)(f.a,{xs:"8",children:[Object(A.jsx)(O.a,{children:Object(A.jsx)(this.table,{})}),Object(A.jsxs)(O.a,{style:{fontSize:15},children:[Object(A.jsxs)(f.a,{children:[Object(A.jsx)("p",{children:this.state.debug?this.state.handAValue:""}),Object(A.jsx)("p",{children:this.state.debug?this.state.handA.toString()+" ("+this.state.handA.map((function(t){return S(t+1)})).toString()+")":""}),Object(A.jsx)("p",{children:this.state.river&&this.state.revealWinner?"Left ".concat(w(this.state.handAValue,this.state.handBValue)," with ").concat(F(this.state.handAValue,this.state.handA,this.state.tableCards,!0),"!"):""}),Object(A.jsx)("p",{children:this.state.river&&this.state.revealWinner?"Left total wins: ".concat(this.state.leftWins):""})]}),Object(A.jsxs)(f.a,{children:[Object(A.jsx)(j.a,{onClick:this.revealWinners,children:"Reveal Winner"}),Object(A.jsx)(j.a,{onClick:this.enableBetting,children:this.state.betting?"Disable Betting":"Enable Betting"}),Object(A.jsx)("p",{children:this.state.bets.reduce((function(t,e){return t+e}))+this.state.pot}),Object(A.jsx)("p",{children:this.state.river&&this.state.revealWinner?"Total ties: ".concat(this.state.ties):""})]}),Object(A.jsxs)(f.a,{children:[Object(A.jsx)("p",{children:this.state.debug?this.state.handBValue:""}),Object(A.jsx)("p",{children:this.state.debug?this.state.handB.toString()+" ("+this.state.handB.map((function(t){return S(t+1)})).toString()+")":""}),Object(A.jsx)("p",{children:this.state.river&&this.state.revealWinner?"Right ".concat(w(this.state.handBValue,this.state.handAValue)," with ").concat(F(this.state.handBValue,this.state.handB,this.state.tableCards,!0),"!"):""}),Object(A.jsx)("p",{children:this.state.river&&this.state.revealWinner?"Right total wins: ".concat(this.state.rightWins):""})]})]})]}),Object(A.jsxs)(f.a,{xs:"2",children:[Object(A.jsx)(this.rightHand,{}),Object(A.jsx)(j.a,{onClick:this.revealRight,children:"Reveal Hand"}),Object(A.jsx)("p",{children:this.state.betting&&this.state.chips[1]}),!this.state.revealWinner&&this.state.betting&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,{onClick:function(){return t.fold(1)},children:"Fold"}),Object(A.jsx)(j.a,{onClick:function(){t.state.bets[0]>t.state.bets[1]?t.betHands(1,t.state.bets[0]-t.state.bets[1]):t.check("right")},children:this.state.bets[0]>this.state.bets[1]?"Call ".concat(this.state.bets[0]-this.state.bets[1]):"Check"}),Object(A.jsxs)(j.a,{onClick:function(){return t.betHands(1,t.doubleOrNothing(1)||5)},children:["Bet ",this.doubleOrNothing(1)||5," Chips"]})]})]})]})}),Object(A.jsxs)("p",{children:["See an error? Please copy the debug info, and file a report on our ",Object(A.jsx)("a",{href:"https://github.com/PrinceOfShapeir/poker-calculator",children:"Github page."})]}),Object(A.jsx)(j.a,{onClick:this.showDebug,children:"Show debug info"}),Object(A.jsx)(A.Fragment,{children:this.state.debug?Object(A.jsx)(j.a,{onClick:navigator.clipboard.writeText(this.state.handA.toString()+","+this.state.tableCards.toString()+","+this.state.handB.toString()),children:"Copy Debug Info"}):""}),Object(A.jsx)(A.Fragment,{children:this.state.revealLeft&&this.state.revealRight&&this.state.flop&&this.state.turn&&this.state.river||!this.state.dealt?"":Object(A.jsx)(j.a,{onClick:this.revealAll,children:"Reveal All"})})]})}}]),a}(s.Component);a(431);var L=function(){return Object(A.jsx)(R,{})},V=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,440)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,r=e.getLCP,i=e.getTTFB;a(t),s(t),n(t),r(t),i(t)}))};i.a.render(Object(A.jsx)(n.a.StrictMode,{children:Object(A.jsx)(L,{})}),document.getElementById("root")),V()}},[[432,1,2]]]);
//# sourceMappingURL=main.fd4443c6.chunk.js.map